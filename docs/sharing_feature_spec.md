# ğŸ“¤ å˜èªå…±æœ‰æ©Ÿèƒ½ - æŠ€è¡“ä»•æ§˜æ›¸

Version 3.0ã§å®Ÿè£…äºˆå®šã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ©Ÿèƒ½ã®è©³ç´°è¨­è¨ˆ

---

## ğŸ“‹ ç›®æ¬¡

1. [æ©Ÿèƒ½æ¦‚è¦](#æ©Ÿèƒ½æ¦‚è¦)
2. [ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼](#ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼)
3. [æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
4. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](#ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
5. [APIè¨­è¨ˆ](#apiè¨­è¨ˆ)
6. [UI/UXè¨­è¨ˆ](#uiuxè¨­è¨ˆ)
7. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
8. [å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º](#å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º)

---

## ğŸ¯ æ©Ÿèƒ½æ¦‚è¦

### ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã—ãŸå˜èªã‚»ãƒƒãƒˆã‚’å…±æœ‰ã—ã€ã¿ã‚“ãªã§å­¦ã³åˆã†ã€

### ä¸»è¦æ©Ÿèƒ½
1. **å˜èªã‚»ãƒƒãƒˆã®å…¬é–‹ãƒ»å…±æœ‰**
2. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å˜èªå¸³ã®é–²è¦§ãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**
3. **ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ **
4. **ã‚½ãƒ¼ã‚·ãƒ£ãƒ«å­¦ç¿’æ©Ÿèƒ½**

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼

### Story 1: å˜èªã‚»ãƒƒãƒˆã®å…±æœ‰
```
As a ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆå˜èªã‚»ãƒƒãƒˆä½œæˆè€…ï¼‰
I want to è‡ªåˆ†ãŒä½œæˆã—ãŸå˜èªã‚»ãƒƒãƒˆã‚’ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å…±æœ‰ã—ãŸã„
So that åŒã˜ç›®æ¨™ã‚’æŒã¤äººã®å½¹ã«ç«‹ã¦ã‚‹
```

**å—å…¥åŸºæº–:**
- [ ] å˜èªã‚»ãƒƒãƒˆã«ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ã‚«ãƒ†ã‚´ãƒªã‚’è¨­å®šã§ãã‚‹
- [ ] å…¬é–‹/éå…¬é–‹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹
- [ ] å…±æœ‰ãƒªãƒ³ã‚¯ã¾ãŸã¯QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã‚‹
- [ ] å…±æœ‰ã—ãŸå˜èªã‚»ãƒƒãƒˆã®çµ±è¨ˆï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°ã€è©•ä¾¡ï¼‰ã‚’ç¢ºèªã§ãã‚‹

### Story 2: å˜èªã‚»ãƒƒãƒˆã®ç™ºè¦‹
```
As a ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆå­¦ç¿’è€…ï¼‰
I want to äººæ°—ã®å˜èªã‚»ãƒƒãƒˆã‚’è¦‹ã¤ã‘ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„
So that åŠ¹ç‡çš„ã«å­¦ç¿’ã§ãã‚‹
```

**å—å…¥åŸºæº–:**
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«å˜èªã‚»ãƒƒãƒˆã‚’é–²è¦§ã§ãã‚‹
- [ ] ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ãŒã§ãã‚‹
- [ ] ãƒ©ãƒ³ã‚­ãƒ³ã‚°é †ã€è©•ä¾¡é †ã€æ–°ç€é †ã§ã‚½ãƒ¼ãƒˆã§ãã‚‹
- [ ] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‰ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã‚‹

### Story 3: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è©•ä¾¡
```
As a ãƒ¦ãƒ¼ã‚¶ãƒ¼
I want to ä½¿ã£ãŸå˜èªã‚»ãƒƒãƒˆã‚’è©•ä¾¡ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸã„
So that ä»–ã®å­¦ç¿’è€…ã®å‚è€ƒã«ãªã‚‹
```

**å—å…¥åŸºæº–:**
- [ ] 5æ®µéšè©•ä¾¡ãŒã§ãã‚‹
- [ ] ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ•ç¨¿ã§ãã‚‹
- [ ] å½¹ç«‹ã£ãŸ/å½¹ç«‹ãŸãªã„ãƒœã‚¿ãƒ³ãŒã‚ã‚‹
- [ ] ä¸é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å ±å‘Šã§ãã‚‹

---

## ğŸ—ï¸ æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
[Flutter App]
    â†“
[Firebase Auth] â† èªè¨¼
    â†“
[Cloud Firestore] â† ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
    â”œâ”€ users/
    â”œâ”€ vocabulary_sets/
    â”œâ”€ reviews/
    â””â”€ reports/
    â†“
[Cloud Functions] â† ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
    â”œâ”€ onSetPublished (é€šçŸ¥ãƒ»é›†è¨ˆ)
    â”œâ”€ onReviewCreated (ã‚¹ãƒ‘ãƒ æ¤œå‡º)
    â””â”€ moderateContent (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¯©æŸ»)
    â†“
[Firebase Storage] â† ç”»åƒãƒ»éŸ³å£°ï¼ˆå°†æ¥ï¼‰
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ç”¨é€” |
|---------|------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Flutter 3.x | UIãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° |
| çŠ¶æ…‹ç®¡ç† | Riverpod / Bloc | è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç† |
| èªè¨¼ | Firebase Auth | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | Cloud Firestore | NoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | Firebase Storage | ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ« |
| ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ | Cloud Functions | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ |
| æ¤œç´¢ | Algoliaï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | é«˜åº¦ãªæ¤œç´¢ |
| åˆ†æ | Firebase Analytics | ä½¿ç”¨çŠ¶æ³åˆ†æ |

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### 1. VocabularySetï¼ˆå˜èªã‚»ãƒƒãƒˆï¼‰

```dart
class VocabularySet {
  String id;                    // ä¸€æ„ã®ID
  String title;                 // ã‚»ãƒƒãƒˆåï¼ˆä¾‹: "TOEICé »å‡º300èª"ï¼‰
  String description;           // èª¬æ˜æ–‡
  String category;              // ã‚«ãƒ†ã‚´ãƒªï¼ˆTOEIC, è‹±æ¤œ, ãƒ“ã‚¸ãƒã‚¹ãªã©ï¼‰
  List<String> tags;            // ã‚¿ã‚°ï¼ˆ#åˆå¿ƒè€…, #ä¸Šç´šè€…ãªã©ï¼‰
  String creatorId;             // ä½œæˆè€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
  String creatorName;           // ä½œæˆè€…ã®è¡¨ç¤ºå
  bool isPublic;                // å…¬é–‹/éå…¬é–‹
  int vocabularyCount;          // å˜èªæ•°
  int downloadCount;            // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°
  double averageRating;         // å¹³å‡è©•ä¾¡ï¼ˆ0-5ï¼‰
  int reviewCount;              // ãƒ¬ãƒ“ãƒ¥ãƒ¼æ•°
  DateTime createdAt;           // ä½œæˆæ—¥æ™‚
  DateTime updatedAt;           // æ›´æ–°æ—¥æ™‚
  List<VocabularyItem> items;   // å˜èªãƒªã‚¹ãƒˆ
}

class VocabularyItem {
  String english;               // è‹±å˜èª
  String japanese;              // æ—¥æœ¬èªè¨³
  String? example;              // ä¾‹æ–‡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  String? imageUrl;             // ç”»åƒURLï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
}
```

**Firestoreãƒ‘ã‚¹:** `vocabulary_sets/{setId}`

### 2. Userï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

```dart
class User {
  String id;                    // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆFirebase Auth UIDï¼‰
  String displayName;           // è¡¨ç¤ºå
  String? photoUrl;             // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒURL
  String? bio;                  // è‡ªå·±ç´¹ä»‹
  int createdSetsCount;         // ä½œæˆã—ãŸå˜èªã‚»ãƒƒãƒˆæ•°
  int totalDownloads;           // åˆè¨ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°
  int followersCount;           // ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°
  int followingCount;           // ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ã®æ•°
  DateTime createdAt;           // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥
  List<Achievement> badges;     // ç²å¾—ãƒãƒƒã‚¸
}
```

**Firestoreãƒ‘ã‚¹:** `users/{userId}`

### 3. Reviewï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

```dart
class Review {
  String id;                    // ãƒ¬ãƒ“ãƒ¥ãƒ¼ID
  String setId;                 // å˜èªã‚»ãƒƒãƒˆID
  String userId;                // ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿è€…ID
  String userName;              // æŠ•ç¨¿è€…å
  int rating;                   // è©•ä¾¡ï¼ˆ1-5ï¼‰
  String? comment;              // ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  int helpfulCount;             // å½¹ç«‹ã£ãŸæ•°
  DateTime createdAt;           // æŠ•ç¨¿æ—¥æ™‚
  bool isFlagged;               // å ±å‘Šã•ã‚Œã¦ã„ã‚‹ã‹
}
```

**Firestoreãƒ‘ã‚¹:** `vocabulary_sets/{setId}/reviews/{reviewId}`

### 4. UserSetRelationï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å˜èªã‚»ãƒƒãƒˆã®é–¢ä¿‚ï¼‰

```dart
class UserSetRelation {
  String userId;                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
  String setId;                 // å˜èªã‚»ãƒƒãƒˆID
  bool isDownloaded;            // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã‹
  bool hasReviewed;             // ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿ã‹
  DateTime? downloadedAt;       // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ—¥æ™‚
  int studyProgress;            // å­¦ç¿’é€²æ—ï¼ˆ%ï¼‰
  int correctCount;             // æ­£è§£æ•°
  int wrongCount;               // ä¸æ­£è§£æ•°
}
```

**Firestoreãƒ‘ã‚¹:** `users/{userId}/downloaded_sets/{setId}`

---

## ğŸ”Œ APIè¨­è¨ˆ

### RESTé¢¨ã®Firestoreæ“ä½œ

#### 1. å˜èªã‚»ãƒƒãƒˆã‚’å…¬é–‹ã™ã‚‹

```dart
Future<String> publishVocabularySet({
  required String title,
  required String description,
  required String category,
  required List<String> tags,
  required List<VocabularyItem> items,
}) async {
  final user = FirebaseAuth.instance.currentUser;
  if (user == null) throw Exception('ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™');

  final setRef = FirebaseFirestore.instance
      .collection('vocabulary_sets')
      .doc();

  final vocabularySet = VocabularySet(
    id: setRef.id,
    title: title,
    description: description,
    category: category,
    tags: tags,
    creatorId: user.uid,
    creatorName: user.displayName ?? 'åŒ¿å',
    isPublic: true,
    vocabularyCount: items.length,
    downloadCount: 0,
    averageRating: 0,
    reviewCount: 0,
    createdAt: DateTime.now(),
    updatedAt: DateTime.now(),
    items: items,
  );

  await setRef.set(vocabularySet.toJson());
  
  // Cloud Functionã§ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®createdSetsCountã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
  
  return setRef.id;
}
```

#### 2. å˜èªã‚»ãƒƒãƒˆã‚’æ¤œç´¢ã™ã‚‹

```dart
Future<List<VocabularySet>> searchVocabularySets({
  String? category,
  String? keyword,
  SortBy sortBy = SortBy.popular,
  int limit = 20,
}) async {
  var query = FirebaseFirestore.instance
      .collection('vocabulary_sets')
      .where('isPublic', isEqualTo: true);

  // ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  if (category != null) {
    query = query.where('category', isEqualTo: category);
  }

  // ã‚½ãƒ¼ãƒˆ
  switch (sortBy) {
    case SortBy.popular:
      query = query.orderBy('downloadCount', descending: true);
      break;
    case SortBy.rating:
      query = query.orderBy('averageRating', descending: true);
      break;
    case SortBy.newest:
      query = query.orderBy('createdAt', descending: true);
      break;
  }

  query = query.limit(limit);

  final snapshot = await query.get();
  return snapshot.docs
      .map((doc) => VocabularySet.fromJson(doc.data()))
      .toList();
}
```

#### 3. å˜èªã‚»ãƒƒãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹

```dart
Future<void> downloadVocabularySet(String setId) async {
  final user = FirebaseAuth.instance.currentUser;
  if (user == null) throw Exception('ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™');

  // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
  await FirebaseFirestore.instance.runTransaction((transaction) async {
    final setRef = FirebaseFirestore.instance
        .collection('vocabulary_sets')
        .doc(setId);
    
    final snapshot = await transaction.get(setRef);
    final newDownloadCount = (snapshot.data()?['downloadCount'] ?? 0) + 1;
    
    transaction.update(setRef, {'downloadCount': newDownloadCount});
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å±¥æ­´ã«è¿½åŠ 
    final userSetRef = FirebaseFirestore.instance
        .collection('users')
        .doc(user.uid)
        .collection('downloaded_sets')
        .doc(setId);
    
    transaction.set(userSetRef, {
      'setId': setId,
      'downloadedAt': FieldValue.serverTimestamp(),
      'studyProgress': 0,
    });
  });
  
  // ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚‚ä¿å­˜ï¼ˆHiveï¼‰
  final set = await getVocabularySet(setId);
  await _saveToLocalStorage(set);
}
```

#### 4. ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æŠ•ç¨¿ã™ã‚‹

```dart
Future<void> postReview({
  required String setId,
  required int rating,
  String? comment,
}) async {
  final user = FirebaseAuth.instance.currentUser;
  if (user == null) throw Exception('ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™');

  final reviewRef = FirebaseFirestore.instance
      .collection('vocabulary_sets')
      .doc(setId)
      .collection('reviews')
      .doc();

  final review = Review(
    id: reviewRef.id,
    setId: setId,
    userId: user.uid,
    userName: user.displayName ?? 'åŒ¿å',
    rating: rating,
    comment: comment,
    helpfulCount: 0,
    createdAt: DateTime.now(),
    isFlagged: false,
  );

  await reviewRef.set(review.toJson());
  
  // Cloud Functionã§å¹³å‡è©•ä¾¡ã‚’å†è¨ˆç®—
}
```

---

## ğŸ¨ UI/UXè¨­è¨ˆ

### ç”»é¢æ§‹æˆ

#### 1. ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚¿ãƒ–ï¼ˆæ–°è¦ï¼‰

```
[ãƒ›ãƒ¼ãƒ ] [å˜èªå¸³] [ãƒ†ã‚¹ãƒˆ] [ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£] â† 4ã¤ç›®ã®ã‚¿ãƒ–ã‚’è¿½åŠ 
```

#### 2. ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒˆãƒƒãƒ—ç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¥ äººæ°—ã®å˜èªã‚»ãƒƒãƒˆ         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ TOEICé »å‡º300èª          â”‚ â”‚
â”‚ â”‚ by å¤ªéƒ                 â”‚ â”‚
â”‚ â”‚ â­4.8 | ğŸ“¥1,234         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ ğŸ“š ã‚«ãƒ†ã‚´ãƒªã§æ¢ã™           â”‚
â”‚ [TOEIC] [è‹±æ¤œ] [å—é¨“]       â”‚
â”‚ [ãƒ“ã‚¸ãƒã‚¹] [æ—¥å¸¸ä¼šè©±]       â”‚
â”‚                             â”‚
â”‚ ğŸ†• æ–°ç€ã®å˜èªã‚»ãƒƒãƒˆ         â”‚
â”‚ ...                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. å˜èªã‚»ãƒƒãƒˆè©³ç´°ç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† TOEICé »å‡º300èª            â”‚
â”‚                             â”‚
â”‚ by å¤ªéƒ                     â”‚
â”‚ â­â­â­â­â­ 4.8 (123ä»¶)       â”‚
â”‚                             â”‚
â”‚ ğŸ“ èª¬æ˜                     â”‚
â”‚ TOEICãƒ†ã‚¹ãƒˆã§é »å‡ºã™ã‚‹       â”‚
â”‚ 300èªã‚’å³é¸ã—ã¾ã—ãŸ         â”‚
â”‚                             â”‚
â”‚ ğŸ“Š è©³ç´°                     â”‚
â”‚ â€¢ å˜èªæ•°: 300èª             â”‚
â”‚ â€¢ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: 1,234å›     â”‚
â”‚ â€¢ ã‚«ãƒ†ã‚´ãƒª: TOEIC           â”‚
â”‚                             â”‚
â”‚ [ğŸ“¥ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰]           â”‚
â”‚ [ğŸ‘ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼]            â”‚
â”‚                             â”‚
â”‚ ğŸ’¬ ãƒ¬ãƒ“ãƒ¥ãƒ¼ (123)           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â­â­â­â­â­              â”‚   â”‚
â”‚ â”‚ èŠ±å­ â€¢ 2æ—¥å‰           â”‚   â”‚
â”‚ â”‚ ã¨ã¦ã‚‚å½¹ç«‹ã¡ã¾ã—ãŸï¼   â”‚   â”‚
â”‚ â”‚ ğŸ‘ å½¹ç«‹ã£ãŸ (12)       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. ãƒã‚¤ãƒšãƒ¼ã‚¸ã«ã€Œå…¬é–‹ã—ãŸå˜èªã‚»ãƒƒãƒˆã€ã‚¿ãƒ–ã‚’è¿½åŠ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒã‚¤ãƒšãƒ¼ã‚¸                   â”‚
â”‚                             â”‚
â”‚ [å­¦ç¿’ä¸­] [ä½œæˆã—ãŸ] [å…¬é–‹ã—ãŸ]â”‚
â”‚                             â”‚
â”‚ å…¬é–‹ã—ãŸå˜èªã‚»ãƒƒãƒˆ (3)       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ TOEICé »å‡º300èª          â”‚ â”‚
â”‚ â”‚ ğŸ“¥1,234 | â­4.8         â”‚ â”‚
â”‚ â”‚ [çµ±è¨ˆã‚’è¦‹ã‚‹] [ç·¨é›†]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### 1. èªè¨¼ãƒ»èªå¯

```javascript
// Firestore Security Rules
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // å˜èªã‚»ãƒƒãƒˆ
    match /vocabulary_sets/{setId} {
      // å…¬é–‹ã‚»ãƒƒãƒˆã¯èª°ã§ã‚‚èª­ã‚ã‚‹
      allow read: if resource.data.isPublic == true;
      // ä½œæˆè€…ã®ã¿èª­ã¿æ›¸ãå¯èƒ½ï¼ˆéå…¬é–‹ï¼‰
      allow read, update, delete: if request.auth.uid == resource.data.creatorId;
      // èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä½œæˆå¯èƒ½
      allow create: if request.auth != null;
      
      // ãƒ¬ãƒ“ãƒ¥ãƒ¼
      match /reviews/{reviewId} {
        allow read: if true;
        allow create: if request.auth != null;
        allow update, delete: if request.auth.uid == resource.data.userId;
      }
    }
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
    match /users/{userId} {
      allow read: if true;
      allow write: if request.auth.uid == userId;
    }
  }
}
```

### 2. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

**è‡ªå‹•ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°:**
- NGãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆï¼ˆä¸é©åˆ‡ãªè¨€è‘‰ï¼‰
- ã‚¹ãƒ‘ãƒ æ¤œå‡ºï¼ˆåŒã˜å†…å®¹ã®é€£æŠ•ï¼‰

**æ‰‹å‹•ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å ±å‘Šæ©Ÿèƒ½
- ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å¯©æŸ»

**Cloud Functionä¾‹:**
```javascript
exports.moderateContent = functions.firestore
  .document('vocabulary_sets/{setId}')
  .onCreate(async (snap, context) => {
    const data = snap.data();
    
    // NGãƒ¯ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯
    const hasInappropriateWords = checkForBadWords(data.title + data.description);
    
    if (hasInappropriateWords) {
      // è‡ªå‹•çš„ã«éå…¬é–‹ã«
      await snap.ref.update({ isPublic: false, flaggedForReview: true });
      // ç®¡ç†è€…ã«é€šçŸ¥
      await sendAdminNotification(snap.id);
    }
  });
```

### 3. ãƒ¬ãƒ¼ãƒˆåˆ¶é™

- å˜èªã‚»ãƒƒãƒˆå…¬é–‹: 1æ—¥5å€‹ã¾ã§
- ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿: 1ã‚»ãƒƒãƒˆã‚ãŸã‚Š1å›ã¾ã§
- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: åˆ¶é™ãªã—

---

## ğŸš€ å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºæœ¬æ©Ÿèƒ½ï¼ˆ1-2ãƒ¶æœˆï¼‰

- [ ] Firebase Authçµ±åˆ
- [ ] Firestoreè¨­å®š
- [ ] å˜èªã‚»ãƒƒãƒˆå…¬é–‹æ©Ÿèƒ½
- [ ] å…±æœ‰ãƒªãƒ³ã‚¯ç”Ÿæˆ
- [ ] å˜èªã‚»ãƒƒãƒˆæ¤œç´¢ãƒ»é–²è¦§
- [ ] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

### Phase 2: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ©Ÿèƒ½ï¼ˆ1ãƒ¶æœˆï¼‰

- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
- [ ] ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
- [ ] ã‚¿ã‚°æ©Ÿèƒ½

### Phase 3: ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½ï¼ˆ1ãƒ¶æœˆï¼‰

- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
- [ ] ãƒ•ã‚©ãƒ­ãƒ¼æ©Ÿèƒ½
- [ ] é€šçŸ¥æ©Ÿèƒ½
- [ ] ãƒã‚¤ãƒšãƒ¼ã‚¸æ‹¡å¼µ

### Phase 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»å“è³ªå‘ä¸Šï¼ˆç¶™ç¶šï¼‰

- [ ] ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] å ±å‘Šæ©Ÿèƒ½
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

---

## ğŸ’° ã‚³ã‚¹ãƒˆè©¦ç®—

### Firebaseæ–™é‡‘ï¼ˆSpark Plan â†’ Blaze Planï¼‰

**æƒ³å®š:** ãƒ¦ãƒ¼ã‚¶ãƒ¼10,000äººã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼3,000äºº/æœˆ

| é …ç›® | ä½¿ç”¨é‡ | æ–™é‡‘ |
|-----|--------|------|
| Cloud Firestore èª­ã¿å–ã‚Š | 500,000å›/æœˆ | $0.06/100k â†’ **$0.30** |
| Cloud Firestore æ›¸ãè¾¼ã¿ | 100,000å›/æœˆ | $0.18/100k â†’ **$0.18** |
| Cloud Storage | 5GB | $0.026/GB â†’ **$0.13** |
| Cloud Functions | 50ä¸‡å›å‘¼ã³å‡ºã— | 200ä¸‡å›ã¾ã§ç„¡æ–™ â†’ **$0** |
| Firebase Auth | ç„¡æ–™ | **$0** |

**æœˆé¡åˆè¨ˆ: ç´„$0.61ï¼ˆç´„90å††ï¼‰**

â€» ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã«å¿œã˜ã¦å¢—åŠ 

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™ï¼ˆKPIï¼‰

| æŒ‡æ¨™ | ç›®æ¨™å€¤ï¼ˆ3ãƒ¶æœˆå¾Œï¼‰ |
|-----|-----------------|
| å…¬é–‹ã•ã‚ŒãŸå˜èªã‚»ãƒƒãƒˆæ•° | 500+ |
| åˆè¨ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•° | 5,000+ |
| ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æŠ•ç¨¿è€… | 50+ |
| å¹³å‡ãƒ¬ãƒ“ãƒ¥ãƒ¼æ•°/ã‚»ãƒƒãƒˆ | 3+ |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ | 40%+ |

---

**æœ€çµ‚æ›´æ–°:** 2024å¹´11æœˆ
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼:** Version 2.0ãƒªãƒªãƒ¼ã‚¹å¾Œ

